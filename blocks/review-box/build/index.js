!function(){"use strict";var e,r={686:function(e,r,t){var n=window.wp.blocks;function a(){return a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},a.apply(this,arguments)}var o=window.wp.element,i=window.wp.i18n,s=window.wp.blockEditor,u=window.wp.components,c=window.wp.data,l=window.wp.coreData,m=window.wp.serverSideRender,f=t.n(m);(0,n.registerBlockType)("game-review/review-box",{edit:function(e){let{attributes:r,setAttributes:t}=e;const n=(0,s.useBlockProps)(),m=(0,c.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[g,v]=(0,l.useEntityProp)("postType",m,"meta"),w=g._shortscore_rating,p=g._shortscore_game,d=g._shortscore_summary,h=(Math.round(r.rating),{icon:r.statusicon});function b(){""!==r.summary&&""!==r.game?(t({status:(0,i.__)("All done.","game-review")}),t({statusicon:"saved"})):(t({status:(0,i.__)("Please fill out all fields.","game-review")}),t({statusicon:"hidden"}))}return t({game:p}),t({rating:String(w)}),t({summary:d.replace(/(<([^>]+)>)/gi,"")}),b(),(0,o.createElement)("div",a({},n,{className:"wp-block-game-review-box wp-block-game-review-box-backend"}),(0,o.createElement)(u.TextControl,{onChange:function(e){v({...g,_shortscore_game:e.replace(/(<([^>]+)>)/gi,"")}),t({game:e}),b()},className:"game",label:(0,i.__)("Game"),value:p,placeholder:(0,i.__)("Write the name of the game ...","game-review")}),(0,o.createElement)(u.TextareaControl,{onChange:function(e){v({...g,_shortscore_summary:String(e)}),t({summary:e.replace(/(<([^>]+)>)/gi,"")}),b()},className:"summary",label:(0,i.__)("Summary"),value:r.summary,placeholder:(0,i.__)("Write a short review summary...","game-review")}),(0,o.createElement)(u.RangeControl,{label:"Rating",help:(0,i.__)("Review score from 1 to 10. The higher the better.","game-review"),onChange:function(e){v({...g,_shortscore_rating:String(e)}),t({rating:String(e)}),b()},min:1,max:10,step:.5,value:Number(w)}),(0,o.createElement)("p",{class:"status notice"},(0,o.createElement)(u.Dashicon,h)," ",r.status),(0,o.createElement)(f(),{block:"game-review/review-box",attributes:r}))},save:function(e){let{attributes:r}=e;return null}})}},t={};function n(e){var a=t[e];if(void 0!==a)return a.exports;var o=t[e]={exports:{}};return r[e](o,o.exports,n),o.exports}n.m=r,e=[],n.O=function(r,t,a,o){if(!t){var i=1/0;for(l=0;l<e.length;l++){t=e[l][0],a=e[l][1],o=e[l][2];for(var s=!0,u=0;u<t.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](t[u])}))?t.splice(u--,1):(s=!1,o<i&&(i=o));if(s){e.splice(l--,1);var c=a();void 0!==c&&(r=c)}}return r}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[t,a,o]},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,{a:r}),r},n.d=function(e,r){for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},function(){var e={826:0,46:0};n.O.j=function(r){return 0===e[r]};var r=function(r,t){var a,o,i=t[0],s=t[1],u=t[2],c=0;if(i.some((function(r){return 0!==e[r]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(u)var l=u(n)}for(r&&r(t);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[i[c]]=0;return n.O(l)},t=self.webpackChunkgame_review=self.webpackChunkgame_review||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}();var a=n.O(void 0,[46],(function(){return n(686)}));a=n.O(a)}();